<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Boxicons -->
    <link
      href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css"
      rel="stylesheet"
    />
    <!-- My CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='styleman.css') }}"
    />

    <title>Manager_Dashboard</title>
  </head>
  <style>body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}/* Main container */
.container {
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
  border: 1px solid #ccc;
  border-radius: 5px;
  background-color: #f9f9f9;
}

/* Form content styling */
.form-content {
  margin-bottom: 15px;
}

/* Label styling */
label {
  font-weight: bold;
}

/* Input field styling */
input[type="text"],
input[type="file"] {
  width: 100%;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  box-sizing: border-box;
}

/* Button styling */
input[type="submit"] {
  background-color: #474F52;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
}

input[type="submit"]:hover {
  background-color: #728089;
}

  </style>
  <body>
    <!-- SIDEBAR -->
    <section id="sidebar">
      <a href="/" class="brand">
        <img src="{{ url_for('static', filename= 'photo/hhhh.png')}}" alt="" />
      </a>
      <ul class="side-menu top">
        <li>
          <a href="/home">
            <i class="bx bxs-dashboard"></i>
            <span class="text">Dashboard</span>
          </a>
        </li>
        <li>
          <a href="/manager_cars">
            <i class="bx bxs-car"></i>
            <span class="text">Cars</span>
          </a>
        </li>
        <li >
          <a href="/manager_dashboard">
            <i class="bx bxs-message-square-add"></i>
            <span class="text">Add Cars</span>
          </a>
        </li>
        <li class="active">
          <a href="#">
            <i class="bx bxs-cog"></i>
            <span class="text">Modify Cars</span>
          </a>
        </li>
        <li>
          <a href="/reservations">
            <i class="bx bxs-bookmark-alt-plus"></i>
            <span class="text">Reservation</span>
          </a>
        </li>
      </ul>
      <ul class="side-menu">
        <li>
          <a href="/client_summary">
            <i class="bx bxs-user"></i>
            <span class="text">Client</span>
          </a>
        </li>
        <li>
          <a href="/" class="logout">
            <i class="bx bxs-log-out-circle"></i>
            <span class="text">Logout</span>
          </a>
        </li>
      </ul>
    </section>
    <!-- SIDEBAR -->

    <!-- CONTENT -->
    <section id="content">
      <!-- NAVBAR -->
      <nav>
        <i class="bx bx-menu"></i>
        <a href="#" class="nav-link">Categories</a>
        <form action="#">
          <div class="form-input">
            <input type="search" placeholder="Search..." />
            <button type="submit" class="search-btn">
              <i class="bx bx-search"></i>
            </button>
          </div>
        </form>
        <input type="checkbox" id="switch-mode" hidden />
        <label for="switch-mode" class="switch-mode"></label>
        <a href="#" class="notification">
          <i class="bx bxs-bell"></i>
          <span class="num">8</span>
        </a>
        <a href="/manager_profile" class="profile">
          <img src="{{ url_for('static', filename= 'photo/img/talal2.png')}}" alt="">
        </a>
      </nav>
      <!-- NAVBAR -->

      <!-- MAIN -->
      <main>
        <h1>Modify Car</h1>

        <div class="container">
          <form
            action="{{ url_for('modify_car_post', car_id=car.id) }}"
            method="post"
            enctype="multipart/form-data"
          >
          <div class="form_item">
						<label for="marque">Marque:</label>
						<!-- Use input with datalist for Marque -->
						<input list="marqueList" id="marque" name="marque" autocomplete="off" value="{{ car.marque }}">
						<datalist id="marqueList">
							<option value="Audi">
							<option value="BMW">
							<option value="Chevrolet">
							<option value="Ferrari">
							<option value="Ford">
							<option value="Honda">
							<option value="Hyundai">
							<option value="Jeep">
							<option value="Kia">
							<option value="Lexus">
							<option value="Maserati">
							<option value="Mazda">
							<option value="Mercedes-Benz">
							<option value="Nissan">
							<option value="Porsche">
							<option value="Subaru">
							<option value="Tesla">
							<option value="Toyota">
							<option value="Volkswagen">
							<option value="Volvo">
							<option value="Other">Other (Type Below)
						</datalist><br><br>
					</div>
          <div class="form_item">
						<label for="modele">Modele:</label>
						<!-- Use input with datalist for Modele -->
						<input list="modeleList" id="modele" name="modele" required autocomplete="off" value="{{ car.modele }}">
						<datalist id="modeleList">
							<!-- Options will be populated dynamically based on selected Marque -->
						</datalist><br><br>
					</div>
          <div class="form_item">
						<label for="immatriculation">Immatriculation:</label>
						<input type="text" id="immatriculation" name="immatriculation" pattern="\d{4}\s[A-Z]{2}\s\d{2}" title="Format: 1111 HJ 09" placeholder="1111 HJ 09 " required value="{{ car.immatriculation }}" /><br /><br />
					</div>
          <div class="form_item">
            <label for="categorie">Categorie:</label>
            <input list="categorieOptions" id="categorieInput" name="categorie" required value="{{ car.categorie }}">
            <datalist id="categorieOptions">
                <option value="sedan">Sedan</option>
                <option value="coupe">Coupe</option>
                <option value="suv">SUV</option>
                <option value="super_car">Super Car</option>
                <option value="pickup">Pickup</option>
                <option value="hatchback">Hatchback</option>
            </datalist><br /><br />
        </div>
        
          <div class="form_item">
						<label for="prix">Prix:</label>
						<input type="number" id="prix" name="prix" step="1" min="0" max="100" required value="{{ car.prix }}" /><br /><br />
					</div>
          <div class="form_item">
            <label for="disponibilite">Disponibilite:</label>
            <select id="disponibiliteInput" name="disponibilite" required>
                <option value="Disponible">Disponible</option>
                <option value="Non_disponible">Non disponible</option>
                <option value="En_cours">En cours</option>
            </select>
        </div>
        
        
            <div class="form-content">
              <!-- Input field for the image -->
              <label for="image_url">Image:</label>
              <input type="file" id="image_url" name="image_url" />
            </div>
            <div class="form-content">
              <input type="submit" value="Modify Car" />
            </div>
          </form>
        </div>
      </main>
      <!-- MAIN -->
    </section>
    <!-- CONTENT -->

    <script src="{{url_for('static', filename='js.js')}}"></script>
    <script>
      
		// Define the dictionary of car makes and models
let carDictionary = {
  "Toyota": ["Camry", "Corolla", "Rav4", "Prius"],
  "Honda": ["Accord", "Civic", "CR-V", "Pilot"],
  "Ford": ["F-150", "Escape", "Explorer", "Focus"],
  "Chevrolet": ["Silverado", "Equinox", "Malibu", "Tahoe"],
  "Volkswagen": ["Jetta", "Passat", "Tiguan", "Atlas"],
  "BMW": ["3 Series", "5 Series", "X3", "X5"],
  "Mercedes-Benz": ["C-Class", "E-Class", "GLC", "GLE"],
  "Audi": ["A4", "A6", "Q5", "Q7"],
  "Tesla": ["Model S", "Model 3", "Model X", "Model Y"],
  "Nissan": ["Altima", "Sentra", "Rogue", "Pathfinder"],
  "Hyundai": ["Elantra", "Sonata", "Tucson", "Santa Fe"],
  "Kia": ["Optima", "Sorento", "Sportage", "Telluride"],
  "Subaru": ["Outback", "Forester", "Impreza", "Crosstrek"],
  "Mazda": ["Mazda3", "Mazda6", "CX-5", "CX-9"],
  "Lexus": ["ES", "RX", "NX", "GX"],
  "Porsche": ["911", "Cayenne", "Panamera", "Macan"],
  "Jeep": ["Wrangler", "Cherokee", "Grand Cherokee", "Compass"],
  "Volvo": ["S60", "XC60", "XC90", "V60"],
  "Ferrari": ["488 GTB", "812 Superfast", "Portofino", "Roma"],
  "Maserati": ["Ghibli", "Quattroporte", "Levante", "GranTurismo"]
};


// Function to populate the models datalist based on the selected car make
function populateModelsDatalist() {
    let selectedMake = document.getElementById('marque').value;
    let models = carDictionary[selectedMake] || [];
    let modeleDatalist = document.getElementById('modeleList');
    
    // Clear existing options in modele datalist
    modeleDatalist.innerHTML = '';
    
    // Populate modele datalist with new options
    models.forEach(function(model) {
        let option = document.createElement('option');
        option.value = model;
        modeleDatalist.appendChild(option);
    });
}

// Call populateModelsDatalist() when the car make input changes
document.getElementById('marque').addEventListener('input', populateModelsDatalist);

// Initialize the models datalist based on the default selected car make (if any)
populateModelsDatalist();
    </script>
  </body>
</html>
